@page "/account/auto-edit-form/register"
@inject NavigationManager NavigationManager
<AutoEditForm @ref="Manager" Model="Model" FormAction="api/account/register" OnSubmitDone="HandleSubmitDone" OnFieldChanged="HandleFieldChanged" OnFileReaderResult="HandleFileReaderResult" EnableChangeTracking EnableProgressBar>
    <FormHeader>
        <DemoHeader Title="Auto Edit Form Demo: Create a new account" LogLevel="LogLevel" OnLogLevelChanged="level => Manager.SetLogLevelAsync(level)" />
    </FormHeader>
    <AfterDisplayGroups>
        <hr />
        <SubmitButton Manager="Manager" Text="Register me" />
        <DataAnnotationsValidator />
    </AfterDisplayGroups>
    <ChildContent>
        <ImagePreview PropertyName="@nameof(RegisterUserModel.Photo)" Visible="FileSelected"/>
    </ChildContent>
</AutoEditForm>
<ErrorDisplay Error="Error"/>
